# 面向对象编程

## 类

### 类的特殊方法

- self关键字：在非静态方法和非类方法的方法，需要self关键字。self代表实例对象本身，解释器进行传递，不需要开发者传递。
- \_\_init\_\_()方法在当类被实例化的过程中被调用,实例化需要传递该方法的参数。类似于java构造器。不能返回任何对象，只能是None
- \_\_new\_\_()方法：
- \_\_del\_\_()解构器方法：这个函数要直到该实例对象所有的引用都被清除掉后才会执行。且只会执行一次
- \_\_str\_\_(self)：可打印的字符输出：内建str()及print语句


### 类方法

- 方法是类属性，方法的绑定在创建实例的时候完成，绑定完成后就可以通过实例来调用方法。self相当于java中的this，不需要显式的传递
- 调用非绑定方法：通过类进行调用需要传递self，一般在子类中调用父类方法的时候会用到

### 静态方法

- 需要staticmethod()方法或者@staticmethod函数修饰符
- 参数不需要self，可以使用类直接调用，也可以使用实例进行调用

### 派生子类

- class ZiClass(FuClass):

> 括号中是父类。其他的和java类似

- 继承多个父类，用逗号隔开
- 子类重写会覆盖父类，包括类似构造方法__init__()

### 类属性和实例属性

- python支持实例创建属性

```python
class C:
    pass
c = C()
c.poor = '1'
print(c.__dict__)   # {'poor': '1'}
```

- 对于类属性不可变的情况下：实例属性变化不会改变类属性的值；类属性变化会改变实例属性的值
- 对于类属性可变的情况下，互相改变

### 特殊的类属性

<table>
  <tr>
    <td>C.__name__</td>
    <td>类C的名字（字符串）</td>
  </tr>
  <tr>
    <td>C.__doc__</td>
    <td>类C的文档字符串</td>
  </tr>
  <tr>
    <td>C.__bases__</td>
    <td>类C所有父类构成的元组</td>
  </tr>
  <tr>
    <td>C.__dict__</td>
    <td>类C的属性</td>
  </tr>
  <tr>
    <td>C.__module__</td>
    <td>类C定义所在的模块</td>
  </tr>
  <tr>
    <td>C.__class__</td>
    <td>实例C对应的类（仅新式类中）</td>
  </tr>
</table>

### 类，实例和其他对象的内建函数

<table>
    <tr>
        <td>函数</td>
        <td>描述</td>
    </tr>
    <tr>
        <td>issubclass(sub,sup)</td>
        <td>判断一个类是另一个类的子类或子孙类</td>
    </tr>
    <tr>
        <td>isinstance(obj1,obj2)</td>
        <td>判定一个对象是否是另一个给定类的实例。第二个参数必须是类</td>
    </tr>
    <tr>
        <td>hasattr()</td>
        <td>判断一个对象是否持有一个特定的属性</td>
    </tr>
    <tr>
        <td>getattr()</td>
        <td>取得对象特定属性的值</td>
    </tr>
    <tr>
        <td>setattr()</td>
        <td>给对象的特定的属性赋值，也可以加入一个新的属性</td>
    </tr>
    <tr>
        <td>delattr()</td>
        <td>从一个对象中删除特定的属性</td>
    </tr>
    <tr>
        <td>dir()</td>
        <td>1.作用在实例上，显示实例变量和实例所在类及所有他的基类中定义的方法和类属性<br/>2.作用在类上，显示类及它的所有基类的__dict__中内容，但它不会显示定义在元类中的类属性<br/>3.作用在模块上，显示模块的__dict__的内容<br/>4.没有参数，显示调用者的局部变量</td>
    </tr>
    <tr>
        <td>super()</td>
        <td>找到父类</td>
    </tr>
    <tr>
        <td>vars()</td>
        <td>与dir()类似，给定的对象参数必须有一个__dict__属性，返回一个字典</td>
    </tr>
</table>



