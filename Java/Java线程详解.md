# Java线程详解

## 线程的生命周期
<img src="https://github.com/nullWolf007/Java/blob/master/Image/232002051747387.jpg"/>

## 线程的五种基本状态
* **新建状态(New)**：当线程对象创建后，进入新建状态。如：Thread t = new Thread()
* **就绪状态(Runnable)**：当调用程序对象的start()方法，线程即进入就绪状态。处于就绪状态的线程，只能说明线程已经做好准备，随时等待CPU进行调度执行，并不是说执行力startt.start()该线程就会立即执行
* **运行状态(Running)**：当CPU开始调度处于就绪状态的线程时，此时线程才真正的执行，即进入运行状态。注意点：就绪状态是进入运行状态的唯一入口，也就是说，线程要想进入运行状态，首先必须处于就绪状态
* **阻塞状态(Blocked)**：处于运行状态中的线程由于某种原因，暂时放弃对CPU的使用权，停止执行，此时进入阻塞状态，知道进入就绪状态，才有机会再次被CPU调用进入到运行状态。有三种阻塞情况
1. 等待阻塞：运行状态中的线程执行wait()方法，使本线程进入到等待阻塞状态
2. 同步阻塞：线程在获取synchronized同步锁失败(因为锁被其他线程所占用)，它会进入同步阻塞状态
3. 其他阻塞：通过调用线程的sleep()或join()或发出了I/O请求时，线程会进入到阻塞状态。当sleep()状态超时，join()等待线程终止或者超时，或者I/O处理完毕时，线程重新转入就绪状态
* **死亡状态(Dead)**：线程执行完了或者因异常退出了run()方法，该线程结束生命周期

## 注意点
### 线程run()和start()的区别
* start():启动线程，真正实现了多线程运行。不需要等待run方法体代码执行完毕，可以直接继续执行下面的代码，调用start()方法进入就绪状态
* run():在当前线程中运行，如果在主线程中调用run方法就会在主线程中运行。程序顺序执行，要等待run方法体执行完毕后，才能继续执行下面的代码
### wait()和sleep()方法
* sleep()：没有释放锁，没有让出资源
* wait():释放锁，进入线程等待池，让出系统资源
