## java中的四种引用类型
---

### 四种引用类型(强引用，软引用，弱引用，虚引用)
1. 强引用：如果一个对象具有强引用，则GC([关于GC请点击这里](https://github.com/nullWolf007/Android/blob/master/Book/%E5%AE%89%E5%8D%93%20GC.md))绝不会回收它。当内存不足时，JVM会抛出Out Of Memory Error，使程序异常终止，也不会回收强引用的对象。(强引用也就是我们一般说的 Object a = new Object())
2. 软引用：如果一个对象具有软引用，当内存空间足够的时候，GC不会回收它；当内存空间不足时，GC会回收该对象的内存。(软引用非常适合于创建缓存。当系统内存不足的时候，缓存中的内容是可以被释放的)
3. 弱引用：只具有弱引用的对象相对于软引用拥有更加短暂的生命周期，无论内存空间是否足够，当GC发现该对象，就会回收该对象的内存。(一般作为缓存来使用)
4. 虚引用：虚引用不会决定对象的生命周期，如果一个对象具有虚引用，和没用有引用一样，在任何时候都可能被GC回收

### 引用队列
* 在有些情况下，程序会需要在一个对象的可达到性发生变化的时候得到通知。比如某个对象的强引用都已经不存在了，只剩下软引用或是弱引用。但是还需要对引用本身做一些的处理。
* 典型的情景是在哈希表中。引用对象是作为WeakHashMap中的键对象的，当其引用的实际对象被垃圾回收之后，就需要把该键值对从哈希表中删除。有了引用队列（ReferenceQueue），就可以方便的获取到这些弱引用对象，将它们从表中删除。在软引用和弱引用对象被添加到队列之前，其对实际对象的引用会被自动清空。通过引用队列的poll/remove方法就可以分别以非阻塞和阻塞的方式获取队列中的引用对象
